- name: Create sample dataset
      run: |
        python << 'EOF'
        import pandas as pd
        import numpy as np
        import os

        # Make sure the data folder exists
        os.makedirs('data', exist_ok=True)

        np.random.seed(42)
        n = 1000
        df = pd.DataFrame({
            'longitude': np.random.uniform(-124, -114, n),
            'latitude': np.random.uniform(32, 42, n),
            'housing_median_age': np.random.uniform(1, 52, n),
            'total_rooms': np.random.uniform(100, 5000, n),
            'total_bedrooms': np.random.uniform(10, 1000, n),
            'population': np.random.uniform(50, 3000, n),
            'households': np.random.uniform(10, 1000, n),
            'median_income': np.random.uniform(0.5, 15, n),
            'median_house_value': np.random.uniform(50000, 500000, n)
        })
        
        df.to_csv('data/housing.csv', index=False)
        print('Sample dataset created successfully!')
        EOF